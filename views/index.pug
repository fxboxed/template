extends ./layout.pug
include ./mixins/responsive-grid-mixin.pug

//- Optional homepage-only head additions.
//- Best practice is to set title/description/canonical/ogImage in your route locals,
//- but this provides a safe OG image fallback if you haven't wired ogImage/defaultOgImage yet.
block head
  - var _hasOg = ((typeof ogImage !== "undefined" && ogImage) || (typeof defaultOgImage !== "undefined" && defaultOgImage)) ? true : false;
  - var _canon = (typeof canonical !== "undefined" && canonical) ? String(canonical) : "";
  - var _origin = "";
  - if (_canon) { try { _origin = (new URL(_canon)).origin; } catch (e) { _origin = ""; } }

  //- Only add fallback OG/Twitter image if layout isn't already receiving one.
  if !_hasOg
    - var _homeOgAbs = _origin ? (_origin + "/images/og/home.jpg") : "/images/og/home.jpg";
    meta(property="og:image" content=_homeOgAbs)
    meta(name="twitter:image" content=_homeOgAbs)

block content
  +responsiveGrid("380px", 3, "1rem", "grid-item grid-item-card-link")
    a(href="/games/game1") 
      h3 Game 1
      img(src="/images/placeholder1.jpg" alt="Game 1 Preview Image")
    a(href="/games/game2") 
      h3 Game 2
      img(src="/images/placeholder1.jpg" alt="Game 1 Preview Image")
    a(href="/games/game3") 
      h3 Game 3
      img(src="/images/placeholder1.jpg" alt="Game 1 Preview Image")

  h3 1st commit
  +responsiveGrid("380px", 3, ".4rem", "grid-item grid-item-special")
    span Node.js static template using Express, Pug and Stylus.
    span 404 page is active.
    span.special Basic routing is functional.
    span Header and footer partials (both with own navigation).
    span All content is stored on the server and rendered using Pug.
    span Responsive modular grid mixin. accepts min width, max columns, gap and class name(s).
    span Responsive navigation partial
    span Light, dark, alpha, beta color mixins
    span Basic SEO and Open Graph meta tags in layout.pug
    span Contact modal partial
